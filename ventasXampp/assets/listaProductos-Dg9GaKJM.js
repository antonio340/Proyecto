import{_ as d,c as t,a as r,b as u,F as i,r as p,t as c,o as e}from"./index-CMGc-E6p.js";const h={name:"ListaProductos",data(){return{productos:[],errorMessage:""}},async mounted(){const l=localStorage.getItem("token");if(!l){alert("No se encontró token. Por favor inicia sesión."),this.$router.push("/");return}try{const o=await fetch("http://localhost/apiVentas/api/public/productos",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+l}});if(!o.ok)throw new Error("Error en la consulta de productos.");const s=await o.json();s.productos&&Array.isArray(s.productos)&&s.productos.length>0?this.productos=s.productos:this.errorMessage="No se encontraron productos."}catch(o){console.error("Error:",o),this.errorMessage="Error al cargar productos."}}},g={key:0},m={key:1,class:"error"},_={key:2};function f(l,o,s,y,n,k){return e(),t("div",null,[o[1]||(o[1]=r("h1",null,"Lista de Productos",-1)),n.productos.length?(e(),t("table",g,[o[0]||(o[0]=r("thead",null,[r("tr",null,[r("th",null,"ID"),r("th",null,"Nombre"),r("th",null,"Precio")])],-1)),r("tbody",null,[(e(!0),t(i,null,p(n.productos,a=>(e(),t("tr",{key:a.idProducto},[r("td",null,c(a.idProducto),1),r("td",null,c(a.nombreProducto),1),r("td",null,c(a.precioProducto),1)]))),128))])])):u("",!0),n.errorMessage?(e(),t("p",m,c(n.errorMessage),1)):n.productos.length?u("",!0):(e(),t("p",_,"Cargando productos..."))])}const b=d(h,[["render",f],["__scopeId","data-v-6445d3e8"]]);export{b as default};
